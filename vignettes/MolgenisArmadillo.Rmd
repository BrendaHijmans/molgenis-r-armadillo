---
title: "MolgenisArmadillo"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{MolgenisArmadillo}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---




```r
library(MolgenisArmadillo)
```

# Purpose
This library can be used by data managers to share datasets on a
MOLGENIS Armadillo server.
Researchers can then analyse these datasets and datasets shared on other servers
using DataSHIELD.

# Overview
The datasets are stored in shared folders on a MinIO file store. The MOLGENIS
Armadillo server has access to the file store and can load the data sets into
a shielded RServe environment so that researchers can call DataSHIELD analysis
methods on the data.

# Usage
In order to access the files as a data manager, you need to log in.
The login method needs the URLs of the Armadillo server and the MinIO
fileserver. It will open a browser window where you can identify yourself with
the ID provider.

```r
armadillo.login("https://armadillo.dev.molgenis.org",
      "https://armadillo-minio.dev.molgenis.org")
#> [1] "We're opening a browser so you can log in with code H98RGS"
```
It will create a session and store the credentials in the environment.

Now you can create a project and upload datasets to it to share them

```r
library(datasets)
armadillo.create_project("project")
#> Created project 'project'
armadillo.upload_table("project", "folder", iris)
#> Compressing table...
#> 
  |                                                                                                                  
  |                                                                                                            |   0%
  |                                                                                                                  
  |============================================================================================================| 100%
#> Uploaded table folder/iris
armadillo.list_tables("project")
#> [1] "folder/iris"
```
